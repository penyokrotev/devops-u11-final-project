<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Policy Details</title>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet"
          id="bootstrap-css">
</head>
<body>
<table class="table table-striped table-condensed">
    <thead>
    <tr>
        <th class="tg-0fr8">Car Brand</th>
        <th class="tg-4ea1" th:text="${policy.getOffer().getCarBrand().getName()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Car Model</th>
        <th class="tg-4ea1" th:text="${policy.getOffer().getCarModel().getName()}"
            style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Cubic Capacity</th>
        <th class="tg-4ea1" th:text="${ policy.getOffer().getCubicCapacity()}" style="font-weight: bold"></th>
    </tr>


    <tr>
        <th class="tg-0fr8">Registration Date</th>
        <th class="tg-4ea1" th:text="${policy.getOffer().getRegistrationDate()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Driver Age:<br></th>
        <th class="tg-4ea1" th:text="${policy.getOffer().getDriverAge()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Accidents in Previous Year<br></th>
        <th class="tg-4ea1" th:text="${policy.getOffer().isAccidentInPreviousYear()}" style="font-weight: bold"></th>
    </tr>


    <tr>
        <th class="tg-0fr8">Total Premium<br></th>
        <th class="tg-4ea1" th:text="${policy.getOffer().getTotalPremium()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Image<br></th>
        <!--        <img th:href="${policy.getImageOfVehicleRegistrationCertificate()}"-->
        <!--            th:src="${policy.getImageOfVehicleRegistrationCertificate()}" width="300px"-->
        <!--            height="300px" border="3"></th>-->

        <a th:href="@{{link}(link=${policy.getImageOfVehicleRegistrationCertificate()})}" target="_blank">
        <img th:href="${policy.getImageOfVehicleRegistrationCertificate()}" th:src="${policy.getImageOfVehicleRegistrationCertificate()}" width="300px"
             height="300px" border="3">
        </a>
    </tr>

    <tr>
        <th class="tg-0fr8">User Who Created It<br></th>
        <th class="tg-4ea1" th:text="${policy.getUser().getEmail()}"
            th:href="@{/users/{id}(id=${policy.getUser().getId()})}" style="font-weight: bold"></th>
    </tr>


    <tr>
        <th class="tg-0fr8">Full Name<br></th>
        <th class="tg-4ea1"
            th:text="${policy.getFirstName()} + ' ' + ${policy.getMiddleName()} + ' ' + ${policy.getLastName()}"
            style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Birth Date<br></th>
        <th class="tg-4ea1" th:text="'Birth Date: ' + ${policy.getBirthDate()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Email<br></th>
        <th class="tg-4ea1" th:text="'Email: ' + ${policy.getEmail()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Phone<br></th>
        <th class="tg-4ea1" th:text="'Phone: ' + ${policy.getPhone()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Postal Address<br></th>
        <th class="tg-4ea1" th:text="'Postal address: ' + ${policy.getPostalAddress()}" style="font-weight: bold"></th>
    </tr>

    <tr>
        <th class="tg-0fr8">Registration Number of the Vehicle<br/></th>
        <th class="tg-4ea1" th:text=" ${policy.getRegistrationNumberOfVehicle()}"
            style="font-weight: bold"></th>
    </tr>


    </thead>
</table>

<form th:if="${policy.getStatus().getStatus()}=='PENDING'" th:action="@{../policies/accept/{id}(id=${policy.getPolicyId()})}" method="post">
    <button type="submit" value="Accept Policy">Accept Policy</button>
</form>

<form th:if="${policy.getStatus().getStatus()}=='PENDING'" th:action="@{../policies/reject/{id}(id=${policy.getPolicyId()})}" method="post">
    <button type="submit" value="Reject Policy">Reject Policy</button>
</form>


</body>
</html>